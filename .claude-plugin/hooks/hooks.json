{
  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "OUBLI_INSTALL_PATH/.venv/bin/python -m oubli.cli inject-context"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Review this conversation and decide if any memories should be saved.\n\nCriteria for saving:\n- New factual information about the user (preferences, background, relationships)\n- Decisions or preferences expressed\n- Project context worth preserving\n- Insights or learnings\n- Corrections to previous assumptions\n\nIf saving, use the memory_save tool with:\n- summary: Concise summary (1-2 sentences)\n- topics: Relevant topic categories\n- keywords: Searchable keywords\n\nAlso consider: Should Core Memory be updated? If this conversation revealed something fundamental about the user (identity, core preferences, major life/work changes), use core_memory_save after saving memories.\n\nIf nothing worth saving, just respond: No new memories to save."
          }
        ]
      }
    ]
  }
}
